<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
<title>For You ‚Äî Sunset</title>
<style>
  :root { --accent:#ff6666; --sun-glow: rgba(255,126,95,0.4); }

  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;background:linear-gradient(180deg,#ffaf7b,#ff7b7b,#7b4397);-webkit-font-smoothing:antialiased;touch-action:manipulation;-webkit-tap-highlight-color:transparent;overflow:hidden;}

  /* SUN */
  .sun{
    position:absolute;top:-50px;left:-50px;width:260px;height:260px;border-radius:50%;
    background:radial-gradient(circle,#ff5533 0%,#ff7e5f 50%,rgba(255,126,95,0) 70%);
    filter:blur(20px);box-shadow:0 0 120px 40px var(--sun-glow);z-index:0;cursor:pointer;
    animation:sunMove 30s ease-in-out infinite;
  }
  @keyframes sunMove {
    0%{top:-60px;left:-60px;opacity:1;transform:scale(1)}
    50%{top:60px;left:-40px;opacity:0.85;transform:scale(1.1)}
    75%{top:140px;left:-20px;opacity:0.6;transform:scale(1.15)}
    100%{top:-60px;left:-60px;opacity:1;transform:scale(1)}
  }

  /* PETALS */
  .petal-wrap{position:absolute;top:0;left:0;pointer-events:auto;will-change:transform,opacity;-webkit-transform:translateZ(0);transform:translateZ(0);}
  .petal{display:inline-block;user-select:none;cursor:pointer;will-change:transform,opacity;text-shadow:0 2px 6px rgba(0,0,0,0.06);animation:petalDrift 4s ease-in-out infinite;}
  @keyframes fallDown{0%{transform:translateY(-10vh)}100%{transform:translateY(120vh)}}
  @keyframes petalDrift{
    0%{transform:translateX(0) rotate(-8deg)}
    25%{transform:translateX(8px) rotate(-2deg)}
    50%{transform:translateX(14px) rotate(6deg)}
    75%{transform:translateX(6px) rotate(2deg)}
    100%{transform:translateX(0) rotate(-8deg)}
  }

  /* HEARTS */
  .heart{position:absolute;cursor:pointer;user-select:none;animation:pop 1.5s ease forwards;}
  @keyframes pop{0%{transform:scale(.5);opacity:0}50%{transform:scale(1.2);opacity:1}100%{transform:scale(.5);opacity:0}}

  /* LAND + TREE */
  .land{position:absolute;bottom:-40px;left:0;width:120%;height:200px;background:linear-gradient(to bottom,#3d1f1f 0%,#1a0f0f 80%);border-top-left-radius:50% 100px;border-top-right-radius:50% 100px;transform:translateX(-10%);z-index:5;box-shadow:0 -15px 25px rgba(0,0,0,0.4) inset;}
  .tree-scene{position:absolute;bottom:100px;right:0;width:280px;height:280px;z-index:6;cursor:pointer;}
  svg{width:100%;height:100%;fill:#1a0f16;}
  .tree-top{transform-box:fill-box;transform-origin:75% 30%;animation:treeSway 6s ease-in-out infinite;}
  @keyframes treeSway{0%,100%{transform:rotate(-2deg)}50%{transform:rotate(2deg)}}
  .swing{transform-box:fill-box;transform-origin:50% 0%;animation:swingMotion 4.2s ease-in-out infinite;}
  @keyframes swingMotion{0%{transform:rotate(6deg)}50%{transform:rotate(-6deg)}100%{transform:rotate(6deg)}}

  /* MESSAGE */
  .message{position:absolute;background:rgba(255,255,255,0.95);padding:8px 14px;border-radius:14px;font-weight:600;font-size:1rem;opacity:0;transform:translateY(12px) scale(.98);animation:floatFade 4s ease forwards;z-index:12;pointer-events:none;white-space:nowrap;}
  @keyframes floatFade{0%{opacity:0;transform:translateY(12px) scale(.98)}10%{opacity:1;transform:translateY(0) scale(1)}70%{opacity:1;transform:translateY(-18px)}100%{opacity:0;transform:translateY(-50px)}}

  /* MINI PLAYER (Lower-left) */
  #miniPlayer{position:fixed;left:18px;bottom:18px;width:320px;max-width:92%;background:rgba(0,0,0,0.35);padding:12px;border-radius:12px;color:#fff;z-index:9999;backdrop-filter:blur(6px);box-shadow:0 10px 30px rgba(0,0,0,0.5);transition:transform .3s,opacity .3s;}
  #mpControls{overflow:hidden}
  .mp-title{font-weight:700;font-size:14px;margin-bottom:6px}
  .mp-buttons{display:flex;gap:8px;align-items:center;margin-bottom:8px}
  .mp-buttons button{background:var(--accent);border:none;color:#fff;padding:6px 8px;border-radius:8px;cursor:pointer}
  #mpProgress,#mpVolume{width:100%;accent-color:var(--accent);background:transparent}
  #mpTime{font-size:12px;color:#ffdede;margin-top:6px;text-align:right}
  .close-btn{position:absolute;top:4px;right:8px;color:#fff;background:none;border:none;font-size:18px;cursor:pointer;}
  .mini-disc{position:fixed;left:25px;bottom:25px;width:60px;height:60px;border-radius:50%;background:radial-gradient(circle at 30% 30%,#ff7b7b,#b33f3f);box-shadow:0 0 20px rgba(0,0,0,0.4);cursor:pointer;z-index:9999;transition:transform .3s;}
  .mini-disc.rotating{animation:spin 6s linear infinite;}
  @keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
  @media(max-width:380px){#miniPlayer{width:92%;left:8px;bottom:12px}}
</style>
</head>
<body>

<div class="sun" id="sun"></div>
<div class="land"></div>

<div class="tree-scene" id="treeScene">
  <svg viewBox="0 0 300 300">
    <path d="M230 300 L250 160 L270 300 Z" fill="#1a0f16"/>
    <g class="tree-top">
      <circle cx="250" cy="140" r="60"/>
      <circle cx="220" cy="120" r="50"/>
      <circle cx="280" cy="120" r="50"/>
    </g>
    <path d="M200 150 C210 140, 240 135, 260 145" stroke="#1a0f16" stroke-width="6" fill="none" stroke-linecap="round"/>
    <line x1="200" y1="150" x2="200" y2="230" stroke="#1a0f16" stroke-width="3"/>
    <line x1="220" y1="150" x2="220" y2="230" stroke="#1a0f16" stroke-width="3"/>
    <g class="swing">
      <rect x="190" y="230" width="40" height="6" fill="#1a0f16"/>
      <circle cx="200" cy="220" r="6" fill="#1a0f16"/>
      <circle cx="215" cy="220" r="6" fill="#1a0f16"/>
    </g>
  </svg>
</div>

<!-- Music Player -->
<div id="miniPlayer">
  <button class="close-btn" id="closePlayer">√ó</button>
  <div id="mpControls">
    <div class="mp-title" id="mpTitle">Now playing ‚Äî YouTube</div>
    <div class="mp-buttons">
      <button id="mpPlay">‚ñ∂Ô∏è</button>
      <button id="mpRew" title="Rewind 10s">‚è™</button>
      <button id="mpFwd" title="Forward 10s">‚è©</button>
    </div>
    <input type="range" id="mpProgress" min="0" max="100" value="0">
    <div id="mpTime">0:00 / 0:00</div>
    <div style="margin-top:8px;">
      <label style="font-size:12px;color:#ffdede">Volume</label>
      <input type="range" id="mpVolume" min="0" max="1" step="0.01" value="0.6">
    </div>
  </div>
</div>

<div id="yt-player-container" style="position:fixed;right:-9999px;bottom:-9999px;width:1px;height:1px;overflow:hidden;"></div>

<script>
/* --- petals --- */
for(let i=0;i<40;i++){const w=document.createElement('div');w.className='petal-wrap';const s=document.createElement('div');s.className='petal';s.textContent='üå∏';s.style.fontSize=(Math.random()*20+10)+'px';w.style.left=Math.random()*100+'vw';w.style.animation=`fallDown ${7+Math.random()*5}s linear infinite`;s.style.animationDuration=(3+Math.random()*2)+'s';w.appendChild(s);document.body.appendChild(w);}
setInterval(()=>{const h=document.createElement('div');h.className='heart';h.textContent='üíó';h.style.left=(20+Math.random()*60)+'vw';h.style.top=(20+Math.random()*60)+'vh';h.style.fontSize=(Math.random()*20+12)+'px';document.body.appendChild(h);setTimeout(()=>h.remove(),2000);},700);

/* --- YouTube Player --- */
const VIDEO_ID='HBxt_v0WF6Y';let ytPlayer,ytReady=false,progressInterval;
const playBtn=document.getElementById('mpPlay'),prog=document.getElementById('mpProgress'),vol=document.getElementById('mpVolume'),timeDisplay=document.getElementById('mpTime'),rew=document.getElementById('mpRew'),fwd=document.getElementById('mpFwd');
function fmt(s){if(!s||isNaN(s))return'0:00';const m=Math.floor(s/60),sec=Math.floor(s%60);return m+':'+(sec<10?'0'+sec:sec);}
function loadYT(cb){if(window.YT&&YT.Player){cb();return;}const s=document.createElement('script');s.src='https://www.youtube.com/iframe_api';document.head.appendChild(s);window.onYouTubeIframeAPIReady=cb;}
function makePlayer(){const d=document.createElement('div');d.id='ytplayer';document.getElementById('yt-player-container').appendChild(d);ytPlayer=new YT.Player('ytplayer',{height:'1',width:'1',videoId:VIDEO_ID,playerVars:{autoplay:0,controls:0,rel:0,modestbranding:1,playsinline:1,loop:1,playlist:VIDEO_ID},events:{onReady:()=>{ytReady=true;ytPlayer.setVolume(vol.value*100);},onStateChange:e=>{if(e.data===1){playBtn.textContent='‚è∏Ô∏è';disc.classList.add('rotating');}else if(e.data===2||e.data===0){playBtn.textContent='‚ñ∂Ô∏è';disc.classList.remove('rotating');}}}});}
function startUpdater(){clearInterval(progressInterval);progressInterval=setInterval(()=>{if(ytReady){const cur=ytPlayer.getCurrentTime(),dur=ytPlayer.getDuration()||0;prog.value=(cur/dur)*100;timeDisplay.textContent=fmt(cur)+' / '+fmt(dur);}},300);}
document.addEventListener('click',()=>{if(!ytPlayer){loadYT(()=>{makePlayer();ytPlayer.playVideo();startUpdater();});}}, {once:true});
playBtn.onclick=()=>{if(!ytReady)return;const s=ytPlayer.getPlayerState();if(s===1)ytPlayer.pauseVideo();else{ytPlayer.playVideo();startUpdater();}};
rew.onclick=()=>{if(ytReady)ytPlayer.seekTo(Math.max(0,ytPlayer.getCurrentTime()-10),true);}
fwd.onclick=()=>{if(ytReady)ytPlayer.seekTo(Math.min(ytPlayer.getDuration(),ytPlayer.getCurrentTime()+10),true);}
prog.oninput=()=>prog.dragging=true;prog.onchange=()=>{if(ytReady){ytPlayer.seekTo((prog.value/100)*ytPlayer.getDuration(),true);}prog.dragging=false;}
vol.oninput=()=>{if(ytReady)ytPlayer.setVolume(vol.value*100);}

/* --- Minimize/Expand Player --- */
const miniPlayer=document.getElementById('miniPlayer');
const closeBtn=document.getElementById('closePlayer');
let disc=null;
closeBtn.onclick=()=>{
  miniPlayer.style.opacity='0';
  miniPlayer.style.transform='scale(0.8)';
  setTimeout(()=>{
    miniPlayer.style.display='none';
    disc=document.createElement('div');
    disc.className='mini-disc';
    document.body.appendChild(disc);
    disc.onclick=()=>{
      disc.remove();
      miniPlayer.style.display='block';
      setTimeout(()=>{miniPlayer.style.opacity='1';miniPlayer.style.transform='scale(1)';},20);
    };
    // start rotation if playing
    if(ytPlayer && ytPlayer.getPlayerState && ytPlayer.getPlayerState()===1){
      disc.classList.add('rotating');
    }
  },200);
};
</script>
</body>
</html>
